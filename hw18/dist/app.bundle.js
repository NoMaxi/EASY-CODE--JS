!function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(n){return e[n]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=332)}({332:function(e,n,t){"use strict";function r(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}t.r(n);var o=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e)}var n,t,o;return n=e,(t=[{key:"post",value:function(e,n,t){return new Promise(function(t,r){fetch(e,{method:"POST",body:JSON.stringify(n),headers:{"Content-type":"application/json"}}).then(function(e){return e.json()}).then(function(e){return t(e)}).catch(function(e){return r(e)})})}},{key:"get",value:function(e,n,t){return new Promise(function(t,r){fetch(e,{method:"GET",headers:n}).then(function(e){return e.json()}).then(function(e){return t(e)}).catch(function(e){return r(e)})})}}])&&r(n.prototype,t),o&&r(n,o),e}(),a="https://mostlikedperson-api.herokuapp.com/api";function i(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e)}var n,t,r;return n=e,(t=[{key:"login",value:function(e,n){var t=new o;return new Promise(function(r,o){t.post("".concat(a,"/public/auth/login"),{email:e,password:n}).then(function(e){if(!e.auth)return o(e);localStorage.setItem("sn_user_id",e.id),localStorage.setItem("sn_user_token",e.token),r(e)}).catch(function(e){return o(e)})})}},{key:"signup",value:function(e){var n=new o;return new Promise(function(t,r){n.post("".concat(a,"/public/auth/signup"),e).then(function(e){if(!e.auth)return r(e);t(e)}).catch(function(e){return r(e)})})}},{key:"userId",get:function(){return localStorage.getItem("sn_user_id")}},{key:"token",get:function(){return localStorage.getItem("sn_user_token")}}])&&i(n.prototype,t),r&&i(n,r),e}();function c(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e)}var n,t,r;return n=e,(t=[{key:"navigate",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;location.appData=n,location.hash=e}}])&&c(n.prototype,t),r&&c(n,r),e}();function l(e,n,t,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void t(e)}u.done?n(c):Promise.resolve(c).then(r,o)}function f(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var v=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this._authService=new u,this._routing=new s}var n,t,r;return n=e,(t=[{key:"beforeRender",value:function(){var e,n=(e=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this._authService.token&&this._routing.navigate("/users/".concat(this._authService.userId));case 1:case"end":return e.stop()}},e,this)}),function(){var n=this,t=arguments;return new Promise(function(r,o){var a=e.apply(n,t);function i(e){l(a,r,o,i,u,"next",e)}function u(e){l(a,r,o,i,u,"throw",e)}i(void 0)})});return function(){return n.apply(this,arguments)}}()},{key:"render",value:function(){return'\n        <div class="auth-wrap d-flex mt-5">\n            <div class="auth-form col col-6 mx-auto my-auto">\n                <h3>Login to Social.</h3>\n                <p class="text-secondary">Enter your e-mail address & password to login to your Social account.</p>\n                <form name="loginForm" novalidate>\n                    <div class="form-group">\n                        <input type="email" class="form-control form-control-sm" id="email" placeholder="name@example.com" required data-pattern="^S+@[a-z]+.[a-z]+$">\n                        <input type="password" class="form-control form-control-sm mt-3" id="password" placeholder="password" required data-pattern="S+">\n                        <div class="d-flex mt-5">\n                            <button type="submit" class="btn btn-primary btn-sm">Login</button>\n                        </div>\n                    </div>\n                </form>\n            </div>\n            \x3c!-- /.auth-form --\x3e\n            <div class="auth-bg col col-6">\n\n            </div>\n            \x3c!-- /.auth-bg --\x3e\n        </div>\n        \x3c!-- /.auth-wrap --\x3e\n        '}},{key:"afterRender",value:function(){var e=this;document.forms.loginForm.addEventListener("submit",function(n){n.preventDefault();var t=n.target.elements.email.value,r=n.target.elements.password.value;t&&r&&e._authService.login(t,r).then(function(n){e._routing.navigate("/users/".concat(n.id))}).catch(function(e){console.log(e)})})}}])&&f(n.prototype,t),r&&f(n,r),e}();function d(e,n,t,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void t(e)}u.done?n(c):Promise.resolve(c).then(r,o)}function p(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var m=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e)}var n,t,r;return n=e,(t=[{key:"beforeRender",value:function(){var e,n=(e=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}),function(){var n=this,t=arguments;return new Promise(function(r,o){var a=e.apply(n,t);function i(e){d(a,r,o,i,u,"next",e)}function u(e){d(a,r,o,i,u,"throw",e)}i(void 0)})});return function(){return n.apply(this,arguments)}}()},{key:"render",value:function(){return"\n            <div>Home</div>\n        "}},{key:"afterRender",value:function(){}}])&&p(n.prototype,t),r&&p(n,r),e}();function h(e,n,t,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void t(e)}u.done?n(c):Promise.resolve(c).then(r,o)}function y(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var g=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this._authService=new u}var n,t,r;return n=e,(t=[{key:"beforeRender",value:function(){var e,n=(e=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}),function(){var n=this,t=arguments;return new Promise(function(r,o){var a=e.apply(n,t);function i(e){h(a,r,o,i,u,"next",e)}function u(e){h(a,r,o,i,u,"throw",e)}i(void 0)})});return function(){return n.apply(this,arguments)}}()},{key:"render",value:function(){return'\n        <div class="auth-wrap d-flex mt-5">\n            <div class="auth-form col col-6 mx-auto my-auto">\n                <h3>Signup to Social.</h3>\n                <p class="text-secondary">Enter the required data to signup your Social account.</p>\n                <form name="signupForm" novalidate>\n                    <div class="form-group">\n                        <input type="email" class="form-control form-control-sm" id="email" placeholder="name@example.com" required data-pattern="^S+@[a-z]+.[a-z]+$">\n                        <input type="password" class="form-control form-control-sm mt-3" id="password" placeholder="password" required data-pattern="\\S+">\n                        <input type="text" class="form-control form-control-sm mt-3" id="nickname" placeholder="nickname" required data-pattern="\\S+">\n                        <input type="text" class="form-control form-control-sm mt-3" id="firstName" placeholder="first name" required data-pattern="\\S+[^\\W]">\n                        <input type="text" class="form-control form-control-sm mt-3" id="lastName" placeholder="last name" required data-pattern="\\S+[^\\W]">\n                        <input type="tel" class="form-control form-control-sm mt-3" id="phone" placeholder="phone" required data-pattern="^(\\+\\d{2})?0\\d{9}$">\n                        <div class="row mt-3 pl-1">\n                            <legend class="col-form-label col-sm-2 pt-2">Gender:</legend>\n                            <div class="col-sm-10">\n                                <div class="form-check">\n                                    <input class="form-check-input" type="radio" name="gender" id="genderMale" value="male">\n                                    <label class="form-check-label" for="genderMale">Male</label>\n                                </div>\n                                <div class="form-check">\n                                    <input class="form-check-input" type="radio" name="gender" id="genderFemale" value="female">\n                                    <label class="form-check-label" for="genderFemale">Female</label>\n                                </div>\n                            </div>\n                        </div>\n                        <input type="text" class="form-control form-control-sm mt-3" id="city" placeholder="city" required data-pattern="\\S+[^\\W]">\n                        <input type="text" class="form-control form-control-sm mt-3" id="country" placeholder="country" required data-pattern="\\S+[^\\W]">\n                        <div class="mt-3">\n                            <label class="form-check-label pl-1" for="birthDate">Birth date:</label>\n                            <input type="date" class="form-control form-control-sm mt-2" name="birthDate" id="birthDate" min="1950-01-01" max="2019-01-01" required>\n                        </div>\n                        <div class="d-flex mt-5">\n                            <button type="submit" class="btn btn-primary btn-sm">Signup</button>\n                        </div>\n                    </div>\n                </form>\n            </div>\n            \x3c!-- /.auth-form --\x3e\n            <div class="auth-bg col col-6">\n\n            </div>\n            \x3c!-- /.auth-bg --\x3e\n        </div>\n        \x3c!-- /.auth-wrap --\x3e\n        '}},{key:"afterRender",value:function(){var e=this;document.forms.signupForm.addEventListener("submit",function(n){n.preventDefault();var t=new Date(n.target.elements.birthDate.value),r={email:n.target.elements.email.value,password:n.target.elements.password.value,nickname:n.target.elements.nickname.value,first_name:n.target.elements.firstName.value,last_name:n.target.elements.lastName.value,phone:n.target.elements.phone.value,gender_orientation:n.target.elements.gender.value,city:n.target.elements.city.value,country:n.target.elements.country.value,date_of_birth_day:t.getDate(),date_of_birth_month:t.getMonth()+1,date_of_birth_year:t.getFullYear()};for(var o in r)if(!r[o])return;e._authService.signup(r).then(function(e){console.log(e)}).catch(function(e){console.log(e)})})}}])&&y(n.prototype,t),r&&y(n,r),e}();function w(e,n,t,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void t(e)}u.done?n(c):Promise.resolve(c).then(r,o)}function b(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var k=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e)}var n,t,r;return n=e,(t=[{key:"beforeRender",value:function(){var e,n=(e=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}),function(){var n=this,t=arguments;return new Promise(function(r,o){var a=e.apply(n,t);function i(e){w(a,r,o,i,u,"next",e)}function u(e){w(a,r,o,i,u,"throw",e)}i(void 0)})});return function(){return n.apply(this,arguments)}}()},{key:"render",value:function(){return"\n            <div>404</div>\n        "}},{key:"afterRender",value:function(){}}])&&b(n.prototype,t),r&&b(n,r),e}();function x(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var _=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e)}var n,t,r;return n=e,(t=[{key:"parseRequestURL",value:function(){var e=location.hash.slice(1).toLowerCase()||"/",n=e.split("/");return{resourse:n[1],id:n[2],url:e}}}])&&x(n.prototype,t),r&&x(n,r),e}();function S(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var P=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e)}var n,t,r;return n=e,(t=[{key:"getUser",value:function(e){var n=new o;return new Promise(function(t,r){n.get("".concat(a,"/public/users/get-info/").concat(e)).then(function(e){t(e)}).catch(function(e){return r(e)})})}}])&&S(n.prototype,t),r&&S(n,r),e}();function R(e,n,t,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void t(e)}u.done?n(c):Promise.resolve(c).then(r,o)}function j(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var O=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this._activeRoute=new _,this._authService=new u,this._userService=new P,this._authUserId=this._authService.userId,this._activeUserId=this._activeRoute.parseRequestURL().id,this._user}var n,t,r;return n=e,(t=[{key:"beforeRender",value:function(){var e,n=(e=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._userService.getUser(this._authUserId);case 2:this._user=e.sent,console.log(this._user);case 4:case"end":return e.stop()}},e,this)}),function(){var n=this,t=arguments;return new Promise(function(r,o){var a=e.apply(n,t);function i(e){R(a,r,o,i,u,"next",e)}function u(e){R(a,r,o,i,u,"throw",e)}i(void 0)})});return function(){return n.apply(this,arguments)}}()},{key:"render",value:function(){return"\n        \x3c!-- Component styles --\x3e\n        <style>\n            ".concat(this._style(),'\n        </style>\n        \x3c!-- Component html --\x3e\n        <div class="user-cover-container"\n            style="background: url(').concat(this._user.cover,') no-repeat center / cover;"\n        >\n        </div>\n        <div class="user-avatar-container d-flex justify-content-center">\n            <div class="user-avatar">\n                <img src="').concat(this._user.avatar,'">\n            </div>\n        </div>\n    ')}},{key:"_style",value:function(){return"\n            img {\n                max-width: 100%;\n                min-height: 140px;\n            }\n            .user-cover-container {\n                height: 400px;\n                width: 100%;\n            }\n            .user-avatar-container {\n                transform: translateY(-50%);\n            }\n            .user-avatar {\n                width: 138px;\n                height: 138px;\n                border-radius: 50%;\n                overflow: hidden;\n            }\n        "}},{key:"afterRender",value:function(){}}])&&j(n.prototype,t),r&&j(n,r),e}();function E(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var T=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e)}var n,t,r;return n=e,(t=[{key:"getNews",value:function(e){var n=new o;return new Promise(function(t,r){n.get("".concat(a,"/public/news"),{"x-access-token":e}).then(function(e){t(e)}).catch(function(e){return r(e)})})}}])&&E(n.prototype,t),r&&E(n,r),e}();function C(e,n,t,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void t(e)}u.done?n(c):Promise.resolve(c).then(r,o)}function q(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var N=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this._authService=new u,this._newsService=new T,this._authUserToken=this._authService.token}var n,t,r;return n=e,(t=[{key:"beforeRender",value:function(){var e,n=(e=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._newsService.getNews(this._authUserToken);case 2:this._usersNews=e.sent,console.log(this._usersNews),console.log(this._usersNews.news[0].pictures),console.log(this._usersNews.news[0].pictures[0].url);case 6:case"end":return e.stop()}},e,this)}),function(){var n=this,t=arguments;return new Promise(function(r,o){var a=e.apply(n,t);function i(e){C(a,r,o,i,u,"next",e)}function u(e){C(a,r,o,i,u,"throw",e)}i(void 0)})});return function(){return n.apply(this,arguments)}}()},{key:"render",value:function(){var e="",n=!0,t=!1,r=void 0;try{for(var o,a=this._usersNews.news[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var i=o.value,u=!0,c=!1,s=void 0;try{for(var l,f=i.pictures[Symbol.iterator]();!(u=(l=f.next()).done);u=!0){var v=l.value;e+='<img src="'.concat(v.url,'" alt="latest photo">')}}catch(e){c=!0,s=e}finally{try{u||null==f.return||f.return()}finally{if(c)throw s}}}}catch(e){t=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(t)throw r}}return console.log(e),"\n            \x3c!-- Component styles --\x3e\n            <style>\n                ".concat(this._style(),'\n            </style>\n            \x3c!-- Component html --\x3e\n            <div class="d-flex justify-content-center">\n                ').concat(e,"\n            </div>\n        ")}},{key:"_style",value:function(){return"\n            img {\n                // max-width: 100%;\n                width: 600px;\n            }        \n        "}},{key:"afterRender",value:function(){}}])&&q(n.prototype,t),r&&q(n,r),e}();function L(e,n,t,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void t(e)}u.done?n(c):Promise.resolve(c).then(r,o)}var I={"/":new m,"/login":new v,"/signup":new g,"/users/:id":new O,"/news":new N,"**":new k},U=new _,D=function(){var e,n=(e=regeneratorRuntime.mark(function e(){var n,t,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=document.querySelector("app-container"),t=U.parseRequestURL(),r=(t.resourse?"/"+t.resourse:"/")+(t.id?"/:id":""),o=I[r]||I["**"],e.next=6,o.beforeRender();case 6:n.innerHTML=o.render(),o.afterRender();case 8:case"end":return e.stop()}},e)}),function(){var n=this,t=arguments;return new Promise(function(r,o){var a=e.apply(n,t);function i(e){L(a,r,o,i,u,"next",e)}function u(e){L(a,r,o,i,u,"throw",e)}i(void 0)})});return function(){return n.apply(this,arguments)}}();window.addEventListener("load",D),window.addEventListener("hashchange",D)}});